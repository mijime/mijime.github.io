<!DOCTYPE html><html lang="ja"><head><link rel="icon" href="/favicon.png"/><meta name="google-site-verification" content="7gVj5rzyozu0vYcQMLhIGr4g-WWyJn4R22RgeYqQdS0"/><script src="https://www.googletagmanager.com/gtag/js?id=UA-46554348-4"></script><script>
window.dataLayer = window.dataLayer || [];
window.gtag = function(){dataLayer.push(arguments);}
window.gtag('js', new Date());
window.gtag('config', 'UA-46554348-4', {page_path: window.location.pathname});
</script><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Azure Resource Managerを通じてAzureを学ぶ | My snippets</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/3118f4a5cdc48aa468ba.css" as="style"/><link rel="stylesheet" href="/_next/static/css/3118f4a5cdc48aa468ba.css" data-n-g=""/><link rel="preload" href="/_next/static/css/be10f5f7efdee9258153.css" as="style"/><link rel="stylesheet" href="/_next/static/css/be10f5f7efdee9258153.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/_next/static/chunks/webpack-377d9957422d331503bc.js" defer=""></script><script src="/_next/static/chunks/framework-92300432a1172ef1338b.js" defer=""></script><script src="/_next/static/chunks/main-ff11dfa7b9d2932d51f3.js" defer=""></script><script src="/_next/static/chunks/pages/_app-aeb6e3be34fe6d240b38.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5B...paths%5D-9248b9a62a3194e493a0.js" defer=""></script><script src="/_next/static/E0eKGFTDq8PgFUgoHm9gr/_buildManifest.js" defer=""></script><script src="/_next/static/E0eKGFTDq8PgFUgoHm9gr/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="default_defaultLayout__1hsFy"><section class="navbar-header_navbarHeader__3g5tB"><h3 class="navbar-header_navbarHeaderTitle__2ef7R"><a href="/">My snippets</a></h3></section><div class="default_defaultLayoutContent__2tmRG"><div class="card_card__DcOjB"><h1 class="article-card_title__3J6E6"><a href="/post/2017/09/16/">Azure Resource Managerを通じてAzureを学ぶ</a></h1><div class="tag-list_tagList__2paiH"><span class="tag_tag__Z47f9 tag-list_tagLink__ESpk3"><a href="/tag/development/posts/1/">development</a></span><span class="tag_tag__Z47f9 tag-list_tagLink__ESpk3"><a href="/tag/azure/posts/1/">azure</a></span><span class="tag_tag__Z47f9 tag-list_tagDate__2WCFH">3 years ago</span></div><div class="article-card_content__3af8_"><div class="prose prose_prose__2WXno"><h2>Azure におけるテンプレートの立ち位置</h2><p>Azureizm では <code>Azure Resource Manager</code> と呼ぶらしい。</p><ul><li><a href="https://docs.microsoft.com/ja-jp/azure/azure-resource-manager/">https://docs.microsoft.com/ja-jp/azure/azure-resource-manager/</a></li></ul><h2>ソース</h2><p>Azure Quickstart Templates</p><ul><li><a href="https://github.com/Azure/azure-quickstart-templates">https://github.com/Azure/azure-quickstart-templates</a></li></ul><h2>進め方</h2><p>下の URL をなぞって勉強することにする</p><ul><li><p>Resource Manager テンプレートと Azure CLI を使用したリソースのデプロイ</p><ul><li><a href="https://docs.microsoft.com/ja-jp/azure/azure-resource-manager/resource-group-template-deploy-cli">https://docs.microsoft.com/ja-jp/azure/azure-resource-manager/resource-group-template-deploy-cli</a></li></ul></li></ul><p>今回は azure-cli を使ったので <code>az</code> を <code>azure</code> に読み替えて実行。</p><ul><li><a href="https://github.com/Azure/azure-cli">https://github.com/Azure/azure-cli</a></li></ul><p>ロケーションは <code>Japan East</code> を使うことにした。</p><ul><li><a href="https://azure.microsoft.com/ja-jp/regions/">https://azure.microsoft.com/ja-jp/regions/</a></li></ul><p>テンプレートは ContainerService のサンプルを使うようにする</p><ul><li>101-acs-swarm</li></ul><p>と思ったけどリージョン制限があった。。ここで冒険はおしまい</p><h3>vmSize がらみの悩み</h3><p>vmSize は <code>Standard_XXX</code> でいいのかしら</p><ul><li><code>Standard_B1MS</code> ではダメだった。プレビューだから、なのかな</li><li><code>Standard_A1_v2</code> はリージョン依存</li><li>結構制限があった。悲しい</li><li>そもそもマスタ用の vmSize が。。というところのよう。辛い</li></ul><h3>Template がらみの悩み</h3><p>SSHPublicKey は RSA じゃないとダメ</p><h3>Azure-Cli がらみの悩み</h3><p><code>validate</code>コマンドが使えない。。だと。。</p><p>参考 URL では@を使っていたけど azure-cli では
パラメータファイルを指定する場合は <code>--parameters-file</code> を使う。</p><h2>料金</h2><p>押さえておかないと辛そう</p><ul><li><a href="https://azure.microsoft.com/ja-jp/pricing/details/virtual-machines/linux/">https://azure.microsoft.com/ja-jp/pricing/details/virtual-machines/linux/</a></li></ul><h2>Documentation</h2><p>リファレンス</p><ul><li><a href="https://docs.microsoft.com/ja-jp/azure/templates/">https://docs.microsoft.com/ja-jp/azure/templates/</a></li></ul><h2>サービス</h2><p>Microsoft.ContainerService/containerServices</p><ul><li><a href="https://azure.microsoft.com/ja-jp/services/container-service/">https://azure.microsoft.com/ja-jp/services/container-service/</a></li></ul><p>Microsoft.ServiceFabric/clusters</p><ul><li><a href="https://azure.microsoft.com/ja-jp/services/service-fabric/">https://azure.microsoft.com/ja-jp/services/service-fabric/</a></li></ul><h2>AWS の比較</h2><ul><li><a href="https://docs.microsoft.com/ja-jp/azure/architecture/aws-professional/services">https://docs.microsoft.com/ja-jp/azure/architecture/aws-professional/services</a></li></ul></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"siteName":"My snippets","source":{"compiledSource":"var c=Object.defineProperty,m=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var l=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;var n=(e,a,r)=\u003ea in e?c(e,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[a]=r,i=(e,a)=\u003e{for(var r in a||(a={}))p.call(a,r)\u0026\u0026n(e,r,a[r]);if(l)for(var r of l(a))o.call(a,r)\u0026\u0026n(e,r,a[r]);return e},u=(e,a)=\u003em(e,h(a));var s=(e,a)=\u003e{var r={};for(var t in e)p.call(e,t)\u0026\u0026a.indexOf(t)\u003c0\u0026\u0026(r[t]=e[t]);if(e!=null\u0026\u0026l)for(var t of l(e))a.indexOf(t)\u003c0\u0026\u0026o.call(e,t)\u0026\u0026(r[t]=e[t]);return r};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(r){var t=r,{components:e}=t,a=s(t,[\"components\"]);return mdx(MDXLayout,u(i(i({},layoutProps),a),{components:e,mdxType:\"MDXLayout\"}),mdx(\"h2\",null,\"Azure \\u306B\\u304A\\u3051\\u308B\\u30C6\\u30F3\\u30D7\\u30EC\\u30FC\\u30C8\\u306E\\u7ACB\\u3061\\u4F4D\\u7F6E\"),mdx(\"p\",null,\"Azureizm \\u3067\\u306F \",mdx(\"inlineCode\",{parentName:\"p\"},\"Azure Resource Manager\"),\" \\u3068\\u547C\\u3076\\u3089\\u3057\\u3044\\u3002\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",i({parentName:\"li\"},{href:\"https://docs.microsoft.com/ja-jp/azure/azure-resource-manager/\"}),\"https://docs.microsoft.com/ja-jp/azure/azure-resource-manager/\"))),mdx(\"h2\",null,\"\\u30BD\\u30FC\\u30B9\"),mdx(\"p\",null,\"Azure Quickstart Templates\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",i({parentName:\"li\"},{href:\"https://github.com/Azure/azure-quickstart-templates\"}),\"https://github.com/Azure/azure-quickstart-templates\"))),mdx(\"h2\",null,\"\\u9032\\u3081\\u65B9\"),mdx(\"p\",null,\"\\u4E0B\\u306E URL \\u3092\\u306A\\u305E\\u3063\\u3066\\u52C9\\u5F37\\u3059\\u308B\\u3053\\u3068\\u306B\\u3059\\u308B\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},\"Resource Manager \\u30C6\\u30F3\\u30D7\\u30EC\\u30FC\\u30C8\\u3068 Azure CLI \\u3092\\u4F7F\\u7528\\u3057\\u305F\\u30EA\\u30BD\\u30FC\\u30B9\\u306E\\u30C7\\u30D7\\u30ED\\u30A4\"),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",i({parentName:\"li\"},{href:\"https://docs.microsoft.com/ja-jp/azure/azure-resource-manager/resource-group-template-deploy-cli\"}),\"https://docs.microsoft.com/ja-jp/azure/azure-resource-manager/resource-group-template-deploy-cli\"))))),mdx(\"p\",null,\"\\u4ECA\\u56DE\\u306F azure-cli \\u3092\\u4F7F\\u3063\\u305F\\u306E\\u3067 \",mdx(\"inlineCode\",{parentName:\"p\"},\"az\"),\" \\u3092 \",mdx(\"inlineCode\",{parentName:\"p\"},\"azure\"),\" \\u306B\\u8AAD\\u307F\\u66FF\\u3048\\u3066\\u5B9F\\u884C\\u3002\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",i({parentName:\"li\"},{href:\"https://github.com/Azure/azure-cli\"}),\"https://github.com/Azure/azure-cli\"))),mdx(\"p\",null,\"\\u30ED\\u30B1\\u30FC\\u30B7\\u30E7\\u30F3\\u306F \",mdx(\"inlineCode\",{parentName:\"p\"},\"Japan East\"),\" \\u3092\\u4F7F\\u3046\\u3053\\u3068\\u306B\\u3057\\u305F\\u3002\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",i({parentName:\"li\"},{href:\"https://azure.microsoft.com/ja-jp/regions/\"}),\"https://azure.microsoft.com/ja-jp/regions/\"))),mdx(\"p\",null,\"\\u30C6\\u30F3\\u30D7\\u30EC\\u30FC\\u30C8\\u306F ContainerService \\u306E\\u30B5\\u30F3\\u30D7\\u30EB\\u3092\\u4F7F\\u3046\\u3088\\u3046\\u306B\\u3059\\u308B\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"101-acs-swarm\")),mdx(\"p\",null,\"\\u3068\\u601D\\u3063\\u305F\\u3051\\u3069\\u30EA\\u30FC\\u30B8\\u30E7\\u30F3\\u5236\\u9650\\u304C\\u3042\\u3063\\u305F\\u3002\\u3002\\u3053\\u3053\\u3067\\u5192\\u967A\\u306F\\u304A\\u3057\\u307E\\u3044\"),mdx(\"h3\",null,\"vmSize \\u304C\\u3089\\u307F\\u306E\\u60A9\\u307F\"),mdx(\"p\",null,\"vmSize \\u306F \",mdx(\"inlineCode\",{parentName:\"p\"},\"Standard_XXX\"),\" \\u3067\\u3044\\u3044\\u306E\\u304B\\u3057\\u3089\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"Standard_B1MS\"),\" \\u3067\\u306F\\u30C0\\u30E1\\u3060\\u3063\\u305F\\u3002\\u30D7\\u30EC\\u30D3\\u30E5\\u30FC\\u3060\\u304B\\u3089\\u3001\\u306A\\u306E\\u304B\\u306A\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"Standard_A1_v2\"),\" \\u306F\\u30EA\\u30FC\\u30B8\\u30E7\\u30F3\\u4F9D\\u5B58\"),mdx(\"li\",{parentName:\"ul\"},\"\\u7D50\\u69CB\\u5236\\u9650\\u304C\\u3042\\u3063\\u305F\\u3002\\u60B2\\u3057\\u3044\"),mdx(\"li\",{parentName:\"ul\"},\"\\u305D\\u3082\\u305D\\u3082\\u30DE\\u30B9\\u30BF\\u7528\\u306E vmSize \\u304C\\u3002\\u3002\\u3068\\u3044\\u3046\\u3068\\u3053\\u308D\\u306E\\u3088\\u3046\\u3002\\u8F9B\\u3044\")),mdx(\"h3\",null,\"Template \\u304C\\u3089\\u307F\\u306E\\u60A9\\u307F\"),mdx(\"p\",null,\"SSHPublicKey \\u306F RSA \\u3058\\u3083\\u306A\\u3044\\u3068\\u30C0\\u30E1\"),mdx(\"h3\",null,\"Azure-Cli \\u304C\\u3089\\u307F\\u306E\\u60A9\\u307F\"),mdx(\"p\",null,mdx(\"inlineCode\",{parentName:\"p\"},\"validate\"),\"\\u30B3\\u30DE\\u30F3\\u30C9\\u304C\\u4F7F\\u3048\\u306A\\u3044\\u3002\\u3002\\u3060\\u3068\\u3002\\u3002\"),mdx(\"p\",null,`\\u53C2\\u8003 URL \\u3067\\u306F@\\u3092\\u4F7F\\u3063\\u3066\\u3044\\u305F\\u3051\\u3069 azure-cli \\u3067\\u306F\n\\u30D1\\u30E9\\u30E1\\u30FC\\u30BF\\u30D5\\u30A1\\u30A4\\u30EB\\u3092\\u6307\\u5B9A\\u3059\\u308B\\u5834\\u5408\\u306F `,mdx(\"inlineCode\",{parentName:\"p\"},\"--parameters-file\"),\" \\u3092\\u4F7F\\u3046\\u3002\"),mdx(\"h2\",null,\"\\u6599\\u91D1\"),mdx(\"p\",null,\"\\u62BC\\u3055\\u3048\\u3066\\u304A\\u304B\\u306A\\u3044\\u3068\\u8F9B\\u305D\\u3046\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",i({parentName:\"li\"},{href:\"https://azure.microsoft.com/ja-jp/pricing/details/virtual-machines/linux/\"}),\"https://azure.microsoft.com/ja-jp/pricing/details/virtual-machines/linux/\"))),mdx(\"h2\",null,\"Documentation\"),mdx(\"p\",null,\"\\u30EA\\u30D5\\u30A1\\u30EC\\u30F3\\u30B9\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",i({parentName:\"li\"},{href:\"https://docs.microsoft.com/ja-jp/azure/templates/\"}),\"https://docs.microsoft.com/ja-jp/azure/templates/\"))),mdx(\"h2\",null,\"\\u30B5\\u30FC\\u30D3\\u30B9\"),mdx(\"p\",null,\"Microsoft.ContainerService/containerServices\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",i({parentName:\"li\"},{href:\"https://azure.microsoft.com/ja-jp/services/container-service/\"}),\"https://azure.microsoft.com/ja-jp/services/container-service/\"))),mdx(\"p\",null,\"Microsoft.ServiceFabric/clusters\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",i({parentName:\"li\"},{href:\"https://azure.microsoft.com/ja-jp/services/service-fabric/\"}),\"https://azure.microsoft.com/ja-jp/services/service-fabric/\"))),mdx(\"h2\",null,\"AWS \\u306E\\u6BD4\\u8F03\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",i({parentName:\"li\"},{href:\"https://docs.microsoft.com/ja-jp/azure/architecture/aws-professional/services\"}),\"https://docs.microsoft.com/ja-jp/azure/architecture/aws-professional/services\"))))}MDXContent.isMDXComponent=!0;\n","scope":{"title":"Azure Resource Managerを通じてAzureを学ぶ","description":"\n## Azure におけるテンプレートの立ち位置\n\nAzureizm では `Azure Resource Manager` と呼ぶらしい。\n\n- https://docs.microsoft.co","createdAt":"2017-09-15T22:48:28.000Z","tags":["development","azure"],"draft":false,"slug":"2017/09/16","content":"\n## Azure におけるテンプレートの立ち位置\n\nAzureizm では `Azure Resource Manager` と呼ぶらしい。\n\n- https://docs.microsoft.com/ja-jp/azure/azure-resource-manager/\n\n## ソース\n\nAzure Quickstart Templates\n\n- https://github.com/Azure/azure-quickstart-templates\n\n## 進め方\n\n下の URL をなぞって勉強することにする\n\n- Resource Manager テンプレートと Azure CLI を使用したリソースのデプロイ\n\n  - https://docs.microsoft.com/ja-jp/azure/azure-resource-manager/resource-group-template-deploy-cli\n\n今回は azure-cli を使ったので `az` を `azure` に読み替えて実行。\n\n- https://github.com/Azure/azure-cli\n\nロケーションは `Japan East` を使うことにした。\n\n- https://azure.microsoft.com/ja-jp/regions/\n\nテンプレートは ContainerService のサンプルを使うようにする\n\n- 101-acs-swarm\n\nと思ったけどリージョン制限があった。。ここで冒険はおしまい\n\n### vmSize がらみの悩み\n\nvmSize は `Standard_XXX` でいいのかしら\n\n- `Standard_B1MS` ではダメだった。プレビューだから、なのかな\n- `Standard_A1_v2` はリージョン依存\n- 結構制限があった。悲しい\n- そもそもマスタ用の vmSize が。。というところのよう。辛い\n\n### Template がらみの悩み\n\nSSHPublicKey は RSA じゃないとダメ\n\n### Azure-Cli がらみの悩み\n\n`validate`コマンドが使えない。。だと。。\n\n参考 URL では@を使っていたけど azure-cli では\nパラメータファイルを指定する場合は `--parameters-file` を使う。\n\n## 料金\n\n押さえておかないと辛そう\n\n- https://azure.microsoft.com/ja-jp/pricing/details/virtual-machines/linux/\n\n## Documentation\n\nリファレンス\n\n- https://docs.microsoft.com/ja-jp/azure/templates/\n\n## サービス\n\nMicrosoft.ContainerService/containerServices\n\n- https://azure.microsoft.com/ja-jp/services/container-service/\n\nMicrosoft.ServiceFabric/clusters\n\n- https://azure.microsoft.com/ja-jp/services/service-fabric/\n\n## AWS の比較\n\n- https://docs.microsoft.com/ja-jp/azure/architecture/aws-professional/services\n"}},"post":{"title":"Azure Resource Managerを通じてAzureを学ぶ","description":"\n## Azure におけるテンプレートの立ち位置\n\nAzureizm では `Azure Resource Manager` と呼ぶらしい。\n\n- https://docs.microsoft.co","createdAt":"2017-09-15T22:48:28.000Z","tags":["development","azure"],"draft":false,"slug":"2017/09/16","content":"\n## Azure におけるテンプレートの立ち位置\n\nAzureizm では `Azure Resource Manager` と呼ぶらしい。\n\n- https://docs.microsoft.com/ja-jp/azure/azure-resource-manager/\n\n## ソース\n\nAzure Quickstart Templates\n\n- https://github.com/Azure/azure-quickstart-templates\n\n## 進め方\n\n下の URL をなぞって勉強することにする\n\n- Resource Manager テンプレートと Azure CLI を使用したリソースのデプロイ\n\n  - https://docs.microsoft.com/ja-jp/azure/azure-resource-manager/resource-group-template-deploy-cli\n\n今回は azure-cli を使ったので `az` を `azure` に読み替えて実行。\n\n- https://github.com/Azure/azure-cli\n\nロケーションは `Japan East` を使うことにした。\n\n- https://azure.microsoft.com/ja-jp/regions/\n\nテンプレートは ContainerService のサンプルを使うようにする\n\n- 101-acs-swarm\n\nと思ったけどリージョン制限があった。。ここで冒険はおしまい\n\n### vmSize がらみの悩み\n\nvmSize は `Standard_XXX` でいいのかしら\n\n- `Standard_B1MS` ではダメだった。プレビューだから、なのかな\n- `Standard_A1_v2` はリージョン依存\n- 結構制限があった。悲しい\n- そもそもマスタ用の vmSize が。。というところのよう。辛い\n\n### Template がらみの悩み\n\nSSHPublicKey は RSA じゃないとダメ\n\n### Azure-Cli がらみの悩み\n\n`validate`コマンドが使えない。。だと。。\n\n参考 URL では@を使っていたけど azure-cli では\nパラメータファイルを指定する場合は `--parameters-file` を使う。\n\n## 料金\n\n押さえておかないと辛そう\n\n- https://azure.microsoft.com/ja-jp/pricing/details/virtual-machines/linux/\n\n## Documentation\n\nリファレンス\n\n- https://docs.microsoft.com/ja-jp/azure/templates/\n\n## サービス\n\nMicrosoft.ContainerService/containerServices\n\n- https://azure.microsoft.com/ja-jp/services/container-service/\n\nMicrosoft.ServiceFabric/clusters\n\n- https://azure.microsoft.com/ja-jp/services/service-fabric/\n\n## AWS の比較\n\n- https://docs.microsoft.com/ja-jp/azure/architecture/aws-professional/services\n"}},"__N_SSG":true},"page":"/post/[...paths]","query":{"paths":["2017","09","16"]},"buildId":"E0eKGFTDq8PgFUgoHm9gr","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>